<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
  <title>Qxt 0.5:QxtSignalWaiter</title>
  <link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <div id="menu">
        <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr>
            <td align="left" valign="top" width="32">
                <a href="http://www.libqxt.org">
                    <img src="logo.png" align="left" width="32" height="32" border="0" />
                </a>
            </td>
            <td width="1">&nbsp;&nbsp;</td>
            <td class="postheader" valign="center">
                <a href="index.html">Home</a>&nbsp;&middot; 
                <a href="classes.html">All&nbsp;Classes</a>&nbsp;&middot; 
                <a href="modules.html">Modules</a>&nbsp;&middot; 
            </td>

        </tr>
        </table>
    </div>




    <center>
        <h1> 
            QxtSignalWaiter Class Reference<br/>
            <sup><sup>[<a href="group__QxtCore.html">QxtCore</a> module]</sup></sup>
        </h1>
    </center>
    
    
    <p>
        Block and process events until a signal is emitted. 
        <a href="#details">More...</a>
    </p>
    
    <pre> #include &lt;QxtSignalWaiter&gt;</pre>
    
    <p>Inherits <a class="reflink" href="http://doc.trolltech.com/latest/qobject.html">QObject</a>.</p>
    
    
    
    <ul><li><a href="classQxtSignalWaiter-members.html">List of all members, including inherited members</a></li></ul>
    
    <a name="public-func"></a>
    <h3>Public Functions</h3>
    <ul class="sectionlist">
            <li> <a href="classQxtSignalWaiter.html#16d99c4de115096bb6b9edf88fa4e249a">QxtSignalWaiter</a>  (   <span class="memberdef_type">const <a class="reflink" href="http://doc.trolltech.com/latest/qobject.html">QObject</a> *</span>    <span class="memberdef_declname">sender</span>    ,   <span class="memberdef_type">const char *</span>    <span class="memberdef_declname">signal</span>     ) </li>
            <li>bool <a href="classQxtSignalWaiter.html#1faf3cb833a88fb63462acdb4eb1e6834">wait</a>  (   <span class="memberdef_type">int</span>    <span class="memberdef_declname">msec</span>  <span class="memberdef_defval">= -1</span>  ,   <span class="memberdef_type">QEventLoop::ProcessEventsFlags</span>    <span class="memberdef_declname">flags</span>  <span class="memberdef_defval">= QEventLoop::AllEvents</span>   ) </li>
            <li>bool <a href="classQxtSignalWaiter.html#16e1971d71fbc6d6d2c0bcc8530b1d78a">hasCapturedSignal</a>  (  )  const </li>
            
    </ul>
    <!--<ul>
        <li><?=inherited_num?> Public Functions inherited from <a href="<?=inherited_link?>"><?=inherited_name?></a></li>
    </ul>-->
    <a name="public-static-func"></a>
    <h3>Public Static Functions</h3>
    <ul class="sectionlist">
            <li>bool <a href="classQxtSignalWaiter.html#13a6c2355841368e97f30eb4c8c340c3d">wait</a>  (   <span class="memberdef_type">const <a class="reflink" href="http://doc.trolltech.com/latest/qobject.html">QObject</a> *</span>    <span class="memberdef_declname">sender</span>    ,   <span class="memberdef_type">const char *</span>    <span class="memberdef_declname">signal</span>    ,   <span class="memberdef_type">int</span>    <span class="memberdef_declname">msec</span>  <span class="memberdef_defval">= -1</span>  ,   <span class="memberdef_type">QEventLoop::ProcessEventsFlags</span>    <span class="memberdef_declname">flags</span>  <span class="memberdef_defval">= QEventLoop::AllEvents</span>   )  static </li>
            
    </ul>
    <!--<ul>
        <li><?=inherited_num?> Public Static Functions inherited from <a href="<?=inherited_link?>"><?=inherited_name?></a></li>
    </ul>-->
    <a name="public-slot"></a>
    <h3>Public Slots</h3>
    <ul class="sectionlist">
            <li>void <a href="classQxtSignalWaiter.html#1a5f700c2e9911622eb61c1f4a085c32a">signalCaught</a>  (  ) </li>
            <li>void <a href="classQxtSignalWaiter.html#105305b289fc5a73e289f53730d4fb187">cancelWait</a>  (  ) </li>
            
    </ul>
    <!--<ul>
        <li><?=inherited_num?> Public Slots inherited from <a href="<?=inherited_link?>"><?=inherited_name?></a></li>
    </ul>-->
    
    
    <hr />
    
    <a name="details"></a>
    <h2>Detailed Description</h2>
    <p>
        <p>In many cases, writing code that assumes certain actions are synchronous is considerably simpler than breaking your function into multiple blocks and using signals and slots to connect them all. Using this class, QSignalWaiter::wait will block until a certain signal is emitted and then return. The return value is true if the signal was caught, or false if a user-specified timeout elapses before catching the signal.</p><p><div class="code"><span class="highlight_keywordtype"  >void</span><span class="highlight_normal"  > MyObject::myFunction() {</span><br/>
        &nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight_normal"  >    <a class="reflink" href="classQxtSignalWaiter.html">QxtSignalWaiter</a> waiter(myOtherObject, SIGNAL(longProcessFinished()));</span><br/>
        &nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight_normal"  >    myOtherObject-&gt;longProcess();</span><br/>
        &nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight_normal"  >    </span><span class="highlight_keywordflow"  >if</span><span class="highlight_normal"  >(waiter.wait(5000)) {</span><br/>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight_normal"  >        doSomething(myOtherObject-&gt;information());</span><br/>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight_normal"  >    } </span><span class="highlight_keywordflow"  >else</span><span class="highlight_normal"  > {</span><br/>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight_normal"  >        <a class="reflink" href="http://doc.trolltech.com/latest/qmessagebox.html#information">QMessageBox::information</a>(0, </span><span class="highlight_stringliteral"  >"MyObject"</span><span class="highlight_normal"  >, </span><span class="highlight_stringliteral"  >"Timed out while waiting on longProcessFinished()"</span><span class="highlight_normal"  >, QMessageBox::Ok);</span><br/>
        &nbsp;&nbsp;&nbsp;&nbsp;<span class="highlight_normal"  >    }</span><br/>
        <span class="highlight_normal"  >}</span><br/>
        </div></p><p>Bug<p><a class="reflink" href="classQxtSignalWaiter.html">QxtSignalWaiter</a> is not reentrant. In particular, only one <a class="reflink" href="classQxtSignalWaiter.html">QxtSignalWaiter</a> object per thread can be safely waiting at a time. If a second <a class="reflink" href="classQxtSignalWaiter.html">QxtSignalWaiter</a> is used while the first is waiting, the first will not return until the second has timed out or successfully caught its signal. </p></p>
    </p>
    
    <h2>Member Documentation</h2>
    <h3 class="fn">
        <a name="16d99c4de115096bb6b9edf88fa4e249a"></a>
         QxtSignalWaiter  (   <span class="memberdef_type">const <a class="reflink" href="http://doc.trolltech.com/latest/qobject.html">QObject</a> *</span>    <span class="memberdef_declname">sender</span>    ,   <span class="memberdef_type">const char *</span>    <span class="memberdef_declname">signal</span>     ) 
    </h3>
    
    <div class="member">
    
    
        <p class="member_brief">
            <em></em>
        </p>
        <p class="member_desc">
            <p>Constructs a <a class="reflink" href="classQxtSignalWaiter.html">QxtSignalWaiter</a> that will wait for sender::signal() to be emitted. <a class="reflink" href="classQxtSignalWaiter.html">QxtSignalWaiter</a> objects are intended to be created on the stack, therefore no parent parameter is accepted. </p>
        </p>
    
    </div>
    <br/> <!--  i hate assistant -->
    <br/> <!--  i hate assistant -->
    <br/> <!--  i hate assistant --><h3 class="fn">
        <a name="1faf3cb833a88fb63462acdb4eb1e6834"></a>
        bool wait  (   <span class="memberdef_type">int</span>    <span class="memberdef_declname">msec</span>  <span class="memberdef_defval">= -1</span>  ,   <span class="memberdef_type">QEventLoop::ProcessEventsFlags</span>    <span class="memberdef_declname">flags</span>  <span class="memberdef_defval">= QEventLoop::AllEvents</span>   ) 
    </h3>
    
    <div class="member">
    
    
        <p class="member_brief">
            <em></em>
        </p>
        <p class="member_desc">
            <p>Blocks the current function until sender::signal() is emitted. If msec is not -1, <a class="reflink" href="classQxtSignalWaiter.html#13a6c2355841368e97f30eb4c8c340c3d">wait()</a> will return before the signal is emitted if the specified number of milliseconds have elapsed. Returns true if the signal was caught, or false if the timeout elapsed. Note that <a class="reflink" href="classQxtSignalWaiter.html#13a6c2355841368e97f30eb4c8c340c3d">wait()</a> may continue to block after the signal is emitted or the timeout elapses; the function only guarantees that it will not return BEFORE one of these conditions has occurred. This function is not reentrant. </p>
        </p>
    
    </div>
    <br/> <!--  i hate assistant -->
    <br/> <!--  i hate assistant -->
    <br/> <!--  i hate assistant --><h3 class="fn">
        <a name="16e1971d71fbc6d6d2c0bcc8530b1d78a"></a>
        bool hasCapturedSignal  (  )  const 
    </h3>
    
    <div class="member">
    
    
        <p class="member_brief">
            <em></em>
        </p>
        <p class="member_desc">
            <p>Indicates whether the desired signal was emitted during the last <a class="reflink" href="classQxtSignalWaiter.html#13a6c2355841368e97f30eb4c8c340c3d">wait()</a> call. </p>
        </p>
    
    </div>
    <br/> <!--  i hate assistant -->
    <br/> <!--  i hate assistant -->
    <br/> <!--  i hate assistant --><h3 class="fn">
        <a name="13a6c2355841368e97f30eb4c8c340c3d"></a>
        bool wait  (   <span class="memberdef_type">const <a class="reflink" href="http://doc.trolltech.com/latest/qobject.html">QObject</a> *</span>    <span class="memberdef_declname">sender</span>    ,   <span class="memberdef_type">const char *</span>    <span class="memberdef_declname">signal</span>    ,   <span class="memberdef_type">int</span>    <span class="memberdef_declname">msec</span>  <span class="memberdef_defval">= -1</span>  ,   <span class="memberdef_type">QEventLoop::ProcessEventsFlags</span>    <span class="memberdef_declname">flags</span>  <span class="memberdef_defval">= QEventLoop::AllEvents</span>   )  static 
    </h3>
    
    <div class="member">
    
    
        <p class="member_brief">
            <em></em>
        </p>
        <p class="member_desc">
            <p>This is an overloaded function provided for convenience. This version can be invoked without first instantiating a <a class="reflink" href="classQxtSignalWaiter.html">QxtSignalWaiter</a> object. </p>
        </p>
    
    </div>
    <br/> <!--  i hate assistant -->
    <br/> <!--  i hate assistant -->
    <br/> <!--  i hate assistant --><h3 class="fn">
        <a name="1a5f700c2e9911622eb61c1f4a085c32a"></a>
        void signalCaught  (  ) 
    </h3>
    
    <div class="member">
    
    
        <p class="member_brief">
            <em></em>
        </p>
        <p class="member_desc">
            <p>Signals a waiting object to stop blocking because the desired signal was emitted. <a class="reflink" href="classQxtSignalWaiter.html#16e1971d71fbc6d6d2c0bcc8530b1d78a">QxtSignalWaiter::hasCapturedSignal()</a> will return true after this slot is invoked. Use this slot to allow <a class="reflink" href="classQxtSignalWaiter.html">QxtSignalWaiter</a> to wait for the first of multiple signals. </p>
        </p>
    
    </div>
    <br/> <!--  i hate assistant -->
    <br/> <!--  i hate assistant -->
    <br/> <!--  i hate assistant --><h3 class="fn">
        <a name="105305b289fc5a73e289f53730d4fb187"></a>
        void cancelWait  (  ) 
    </h3>
    
    <div class="member">
    
    
        <p class="member_brief">
            <em></em>
        </p>
        <p class="member_desc">
            <p>Signals a waiting object to stop blocking because the timeout has elapsed. <a class="reflink" href="classQxtSignalWaiter.html#16e1971d71fbc6d6d2c0bcc8530b1d78a">QxtSignalWaiter::hasCapturedSignal()</a> will return false after this slot is invoked. Use this slot to allow <a class="reflink" href="classQxtSignalWaiter.html">QxtSignalWaiter</a> to be interrupted for reasons other than a timeout. </p>
        </p>
    
    </div>
    <br/> <!--  i hate assistant -->
    <br/> <!--  i hate assistant -->
    <br/> <!--  i hate assistant -->
    



    <br/>
    <hr />
    <div align="center">
        <table width="100%" cellspacing="0" border="0">
            <tr class="address">
                <td width="30%">Copyright &copy; 2007 <a href="http://libqxt.org">Qxt Foundation</a></td>
                <td width="40%" align="center"><a href="http://doc.trolltech.com/latest/trademarks.html">Trademarks </a></td>
                <td width="30%" align="right"><div align="right">Qt Extension Library 0.5</div></td>
            </tr>
        </table>
    </div>

</body>
</html>
