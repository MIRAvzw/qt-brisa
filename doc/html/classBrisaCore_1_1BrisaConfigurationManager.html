<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BRisa Qt: BrisaCore::BrisaConfigurationManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceBrisaCore.html">BrisaCore</a>::<a class="el" href="classBrisaCore_1_1BrisaConfigurationManager.html">BrisaConfigurationManager</a>
  </div>
</div>
<div class="contents">
<h1>BrisaCore::BrisaConfigurationManager Class Reference</h1><!-- doxytag: class="BrisaCore::BrisaConfigurationManager" -->
<p>Class that provides an easy way of managing configurations.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="brisaconfig_8h_source.html">brisaconfig.h</a>&gt;</code></p>

<p><a href="classBrisaCore_1_1BrisaConfigurationManager-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBrisaCore_1_1BrisaConfigurationManager.html#a4bc1f6a85872924f96d86ac4193a1363">BrisaConfigurationManager</a> (const QString &amp;configPath, const QHash&lt; QString, QString &gt; &amp;state)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor for the <a class="el" href="classBrisaCore_1_1BrisaConfigurationManager.html" title="Class that provides an easy way of managing configurations.">BrisaConfigurationManager</a> class.  <a href="#a4bc1f6a85872924f96d86ac4193a1363"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBrisaCore_1_1BrisaConfigurationManager.html#add1eabc42cefd0aa066222a60b70df71">setDirectAccess</a> (bool access)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the direct access option of the ConfigurationManager.  <a href="#add1eabc42cefd0aa066222a60b70df71"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBrisaCore_1_1BrisaConfigurationManager.html#aa32b2a7e909192182c879c72c047d895">getDirectAccess</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns False if the ConfigurationManager is currently working on the runtime state.  <a href="#aa32b2a7e909192182c879c72c047d895"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBrisaCore_1_1BrisaConfigurationManager.html#a0e3ce5560d14df248cd95338f83dbb2e">update</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Updates the current state of the manager according to persistence data.  <a href="#a0e3ce5560d14df248cd95338f83dbb2e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBrisaCore_1_1BrisaConfigurationManager.html#a3da3cd7739a19d536d763cef39d8adfa">save</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stores the state of the manager on the persistence.  <a href="#a3da3cd7739a19d536d763cef39d8adfa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBrisaCore_1_1BrisaConfigurationManager.html#abdfdf034b2bd536aa85cf3ecfc2c5f07">getParameter</a> (const QString &amp;section, const QString &amp;parameter)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieves the value associated with the parameter in the section given.  <a href="#abdfdf034b2bd536aa85cf3ecfc2c5f07"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBrisaCore_1_1BrisaConfigurationManager.html#a739851682001ab3417779eaf39f646ec">setParameter</a> (const QString &amp;section, const QString &amp;parameter, const QString &amp;parValue)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets a parameter's value in the given section.  <a href="#a739851682001ab3417779eaf39f646ec"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QList&lt; QString &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBrisaCore_1_1BrisaConfigurationManager.html#a6a9e2549510762f81e592a51c805ab6e">getSectionNames</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the names of all sections.  <a href="#a6a9e2549510762f81e592a51c805ab6e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QHash&lt; QString, QString &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBrisaCore_1_1BrisaConfigurationManager.html#adac936cafe02d040a4a69fe96ec0e64d">items</a> (const QString &amp;section)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns all the items of the given section.  <a href="#adac936cafe02d040a4a69fe96ec0e64d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBrisaCore_1_1BrisaConfigurationManager.html#a99863f30d930844f274e48d0ac289791">removeSection</a> (const QString &amp;section)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes a section given the name.  <a href="#a99863f30d930844f274e48d0ac289791"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Class that provides an easy way of managing configurations. </p>
<p>Configuration is organized in sections, which may contain parameters. Each section has a name and a parameter has a name and a value.</p>
<p>Concerning storage, the configuration can be saved on a sqlite database. Also, there's a feature called "direct access" that enables direct operations on the database. For example,a <a class="el" href="classBrisaCore_1_1BrisaConfigurationManager.html#abdfdf034b2bd536aa85cf3ecfc2c5f07" title="Retrieves the value associated with the parameter in the section given.">getParameter()</a> call would retrieve the value of a parameter directly from the database, if the feature is enabled.</p>
<p>When disabled, all methods apply to (what we call) the "state". The state initially contains the same information that is on the database, but if the "direct access" feature is disabled, all get()'s and set()'s apply to the state. This means you can have a "runtime configuration" and a "static configuration".</p>
<p>By default, the "direct access" feature is disabled. To enable it, just call setDirectAccess(True).</p>
<p>The state can be saved on the persistence by explicitly calling <a class="el" href="classBrisaCore_1_1BrisaConfigurationManager.html#a3da3cd7739a19d536d763cef39d8adfa" title="Stores the state of the manager on the persistence.">save()</a> It can also update its values by explicitly calling <a class="el" href="classBrisaCore_1_1BrisaConfigurationManager.html#a0e3ce5560d14df248cd95338f83dbb2e" title="Updates the current state of the manager according to persistence data.">update()</a>. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4bc1f6a85872924f96d86ac4193a1363"></a><!-- doxytag: member="BrisaCore::BrisaConfigurationManager::BrisaConfigurationManager" ref="a4bc1f6a85872924f96d86ac4193a1363" args="(const QString &amp;configPath, const QHash&lt; QString, QString &gt; &amp;state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BrisaConfigurationManager::BrisaConfigurationManager </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>configPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QHash&lt; QString, QString &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>state</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor for the <a class="el" href="classBrisaCore_1_1BrisaConfigurationManager.html" title="Class that provides an easy way of managing configurations.">BrisaConfigurationManager</a> class. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>config_path</em>&nbsp;</td><td>a QString that represents the path of the database to work on. If not supplied will work on a memory database. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>state,:</em>&nbsp;</td><td>hash as a dictionaryr with sections and parameters.\ Keys are section.parameters format and values are the their respective values. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa32b2a7e909192182c879c72c047d895"></a><!-- doxytag: member="BrisaCore::BrisaConfigurationManager::getDirectAccess" ref="aa32b2a7e909192182c879c72c047d895" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BrisaConfigurationManager::getDirectAccess </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns False if the ConfigurationManager is currently working on the runtime state. </p>
<p>Otherwise, it will return True, which means it's working directly on the persistence. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The current status of the ConfigurationManager </dd></dl>

<p>Referenced by <a class="el" href="brisaconfig_8cpp_source.html#l00068">getParameter()</a>, <a class="el" href="brisaconfig_8cpp_source.html#l00099">getSectionNames()</a>, <a class="el" href="brisaconfig_8cpp_source.html#l00117">items()</a>, <a class="el" href="brisaconfig_8cpp_source.html#l00133">removeSection()</a>, and <a class="el" href="brisaconfig_8cpp_source.html#l00082">setParameter()</a>.</p>

</div>
</div>
<a class="anchor" id="abdfdf034b2bd536aa85cf3ecfc2c5f07"></a><!-- doxytag: member="BrisaCore::BrisaConfigurationManager::getParameter" ref="abdfdf034b2bd536aa85cf3ecfc2c5f07" args="(const QString &amp;section, const QString &amp;parameter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString BrisaConfigurationManager::getParameter </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>section</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>parameter</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieves the value associated with the parameter in the section given. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>section</em>&nbsp;</td><td>a section to find the parameter </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>parameter</em>&nbsp;</td><td>a parameter to return the value </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the value for the given parameter </dd></dl>

</div>
</div>
<a class="anchor" id="a6a9e2549510762f81e592a51c805ab6e"></a><!-- doxytag: member="BrisaCore::BrisaConfigurationManager::getSectionNames" ref="a6a9e2549510762f81e592a51c805ab6e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt; QString &gt; BrisaConfigurationManager::getSectionNames </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the names of all sections. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>a QList with its parameters and values </dd></dl>

</div>
</div>
<a class="anchor" id="adac936cafe02d040a4a69fe96ec0e64d"></a><!-- doxytag: member="BrisaCore::BrisaConfigurationManager::items" ref="adac936cafe02d040a4a69fe96ec0e64d" args="(const QString &amp;section)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QHash&lt; QString, QString &gt; BrisaConfigurationManager::items </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>section</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns all the items of the given section. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>section</em>&nbsp;</td><td>name </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a dictionary with all the items of the given section </dd></dl>

<p>Referenced by <a class="el" href="brisaconfig_8cpp_source.html#l00133">removeSection()</a>.</p>

</div>
</div>
<a class="anchor" id="a99863f30d930844f274e48d0ac289791"></a><!-- doxytag: member="BrisaCore::BrisaConfigurationManager::removeSection" ref="a99863f30d930844f274e48d0ac289791" args="(const QString &amp;section)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BrisaConfigurationManager::removeSection </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>section</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Removes a section given the name. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>section,:</em>&nbsp;</td><td>section name to be removed </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a boolean. true whether is possible remove it </dd></dl>

</div>
</div>
<a class="anchor" id="a3da3cd7739a19d536d763cef39d8adfa"></a><!-- doxytag: member="BrisaCore::BrisaConfigurationManager::save" ref="a3da3cd7739a19d536d763cef39d8adfa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BrisaConfigurationManager::save </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stores the state of the manager on the persistence. </p>

<p>Referenced by <a class="el" href="brisaconfig_8cpp_source.html#l00133">removeSection()</a>, and <a class="el" href="brisaconfig_8cpp_source.html#l00082">setParameter()</a>.</p>

</div>
</div>
<a class="anchor" id="add1eabc42cefd0aa066222a60b70df71"></a><!-- doxytag: member="BrisaCore::BrisaConfigurationManager::setDirectAccess" ref="add1eabc42cefd0aa066222a60b70df71" args="(bool access)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BrisaConfigurationManager::setDirectAccess </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>access</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the direct access option of the ConfigurationManager. </p>
<p>When True, direct access makes all get and set methods work directly on the database, not on the current state. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>access</em>&nbsp;</td><td>a boolean argument to set direct access option of the <a class="el" href="classBrisaCore_1_1BrisaConfigurationManager.html" title="Class that provides an easy way of managing configurations.">BrisaConfigurationManager</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a739851682001ab3417779eaf39f646ec"></a><!-- doxytag: member="BrisaCore::BrisaConfigurationManager::setParameter" ref="a739851682001ab3417779eaf39f646ec" args="(const QString &amp;section, const QString &amp;parameter, const QString &amp;parValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BrisaConfigurationManager::setParameter </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>section</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>parameter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>parValue</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets a parameter's value in the given section. </p>
<p>If the parameter does not exist, it gets created. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>section</em>&nbsp;</td><td>a section to set the parameter </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>parameter</em>&nbsp;</td><td>a parameter to set the value </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>parameter</em>&nbsp;</td><td>a value to be set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0e3ce5560d14df248cd95338f83dbb2e"></a><!-- doxytag: member="BrisaCore::BrisaConfigurationManager::update" ref="a0e3ce5560d14df248cd95338f83dbb2e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BrisaConfigurationManager::update </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Updates the current state of the manager according to persistence data. </p>

<p>Referenced by <a class="el" href="brisaconfig_8cpp_source.html#l00068">getParameter()</a>, <a class="el" href="brisaconfig_8cpp_source.html#l00099">getSectionNames()</a>, and <a class="el" href="brisaconfig_8cpp_source.html#l00117">items()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/core/<a class="el" href="brisaconfig_8h_source.html">brisaconfig.h</a></li>
<li>src/core/<a class="el" href="brisaconfig_8cpp.html">brisaconfig.cpp</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Fri Apr 16 14:32:50 2010 for BRisa Qt by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
